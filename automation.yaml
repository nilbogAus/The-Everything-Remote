alias: Remote
description: ""
triggers:
  - trigger: event
    event_type: esphome.remote_button_pressed
conditions: []
actions:
  - choose:
      - conditions:
          - condition: template
            value_template: "{{trigger.event.data.button == 'shortcut_1'}}"
        sequence:
          - parallel:
              - alias: LG TV Sequence
                sequence:
                  - action: media_player.turn_on
                    metadata: {}
                    data: {}
                    target:
                      device_id:
                        - 6461dcd2ff85cf0f93ae192920898f19
                    enabled: false
                  - delay:
                      hours: 0
                      minutes: 2
                      seconds: 0
                      milliseconds: 0
                    enabled: false
                  - action: media_player.turn_off
                    metadata: {}
                    data: {}
                    target:
                      device_id: 6461dcd2ff85cf0f93ae192920898f19
              - alias: Apple TV Sequence
                sequence:
                  - action: media_player.turn_off
                    metadata: {}
                    data: {}
                    target:
                      device_id: 466b9f450c887ef74d15d09ed3ffe1b3
                enabled: true
              - alias: Amp  Sequence
                sequence:
                  - action: media_player.turn_on
                    metadata: {}
                    data: {}
                    target:
                      device_id:
                        - 13f405bca5e64a54d1df697bf80e2163
                  - action: media_player.select_source
                    metadata: {}
                    data:
                      source: Spotify
                    target:
                      device_id: 13f405bca5e64a54d1df697bf80e2163
                  - action: media_player.select_sound_mode
                    metadata: {}
                    data:
                      sound_mode: all_ch_stereo
                    target:
                      device_id: 13f405bca5e64a54d1df697bf80e2163
        alias: Shortcut 1 (Spotify)
      - conditions:
          - condition: template
            value_template: "{{trigger.event.data.button == 'shortcut_2'}}"
        sequence:
          - parallel:
              - alias: LG TV Sequence
                sequence:
                  - action: media_player.turn_on
                    metadata: {}
                    data: {}
                    target:
                      device_id:
                        - 6461dcd2ff85cf0f93ae192920898f19
                  - repeat:
                      until:
                        - condition: device
                          device_id: 6461dcd2ff85cf0f93ae192920898f19
                          domain: media_player
                          entity_id: 6ef4a66615cc7074b3c30608919091e7
                          type: is_on
                      sequence:
                        - delay:
                            hours: 0
                            minutes: 0
                            seconds: 1
                            milliseconds: 0
                  - action: media_player.select_source
                    metadata: {}
                    data:
                      source: HDMI2
                    target:
                      device_id: 6461dcd2ff85cf0f93ae192920898f19
              - alias: Apple TV Sequence
                sequence:
                  - action: remote.turn_on
                    metadata: {}
                    data: {}
                    target:
                      device_id: 466b9f450c887ef74d15d09ed3ffe1b3
                  - delay:
                      hours: 0
                      minutes: 0
                      seconds: 0
                      milliseconds: 500
                  - action: media_player.turn_on
                    metadata: {}
                    data: {}
                    target:
                      device_id:
                        - 466b9f450c887ef74d15d09ed3ffe1b3
                  - action: remote.send_command
                    metadata: {}
                    data:
                      num_repeats: 1
                      delay_secs: 0.4
                      hold_secs: 0
                      command: home
                    target:
                      device_id: 466b9f450c887ef74d15d09ed3ffe1b3
                enabled: true
              - alias: Amp  Sequence
                sequence:
                  - action: media_player.turn_on
                    metadata: {}
                    data: {}
                    target:
                      device_id:
                        - 13f405bca5e64a54d1df697bf80e2163
                  - action: media_player.select_source
                    metadata: {}
                    data:
                      source: Apple TV
                    target:
                      device_id: 13f405bca5e64a54d1df697bf80e2163
                  - action: media_player.select_sound_mode
                    metadata: {}
                    data:
                      sound_mode: surr_decoder
                    target:
                      device_id: 13f405bca5e64a54d1df697bf80e2163
        alias: Shortcut 2 (Apple TV)
      - conditions:
          - condition: template
            value_template: "{{trigger.event.data.button == 'shortcut_3'}}"
        sequence:
          - parallel:
              - alias: LG TV Sequence
                sequence:
                  - action: media_player.turn_on
                    metadata: {}
                    data: {}
                    target:
                      device_id:
                        - 6461dcd2ff85cf0f93ae192920898f19
                  - repeat:
                      until:
                        - condition: device
                          device_id: 6461dcd2ff85cf0f93ae192920898f19
                          domain: media_player
                          entity_id: 6ef4a66615cc7074b3c30608919091e7
                          type: is_on
                      sequence:
                        - delay:
                            hours: 0
                            minutes: 0
                            seconds: 1
                            milliseconds: 0
                  - action: media_player.select_source
                    metadata: {}
                    data:
                      source: Screen Share
                    target:
                      device_id: 6461dcd2ff85cf0f93ae192920898f19
              - alias: Apple TV Sequence
                sequence:
                  - action: media_player.turn_off
                    metadata: {}
                    data: {}
                    target:
                      device_id: 466b9f450c887ef74d15d09ed3ffe1b3
                enabled: true
              - alias: Amp  Sequence
                sequence:
                  - action: media_player.turn_on
                    metadata: {}
                    data: {}
                    target:
                      device_id:
                        - 13f405bca5e64a54d1df697bf80e2163
                  - action: media_player.select_source
                    metadata: {}
                    data:
                      source: TV
                    target:
                      device_id: 13f405bca5e64a54d1df697bf80e2163
                  - action: media_player.select_sound_mode
                    metadata: {}
                    data:
                      sound_mode: surr_decoder
                    target:
                      device_id: 13f405bca5e64a54d1df697bf80e2163
        alias: Shortcut 3 (Screen Share)
      - conditions:
          - condition: template
            value_template: "{{trigger.event.data.button == 'shortcut_4'}}"
        sequence:
          - parallel:
              - alias: LG TV Sequence
                sequence:
                  - action: media_player.turn_on
                    metadata: {}
                    data: {}
                    target:
                      device_id:
                        - 6461dcd2ff85cf0f93ae192920898f19
                  - repeat:
                      until:
                        - condition: device
                          device_id: 6461dcd2ff85cf0f93ae192920898f19
                          domain: media_player
                          entity_id: 6ef4a66615cc7074b3c30608919091e7
                          type: is_on
                      sequence:
                        - delay:
                            hours: 0
                            minutes: 0
                            seconds: 1
                            milliseconds: 0
                  - action: media_player.select_source
                    metadata: {}
                    data:
                      source: Switch
                    target:
                      device_id: 6461dcd2ff85cf0f93ae192920898f19
              - alias: Apple TV Sequence
                sequence:
                  - action: media_player.turn_off
                    metadata: {}
                    data: {}
                    target:
                      device_id: 466b9f450c887ef74d15d09ed3ffe1b3
                enabled: true
              - alias: Amp  Sequence
                sequence:
                  - action: media_player.turn_on
                    metadata: {}
                    data: {}
                    target:
                      device_id:
                        - 13f405bca5e64a54d1df697bf80e2163
                  - action: media_player.select_source
                    metadata: {}
                    data:
                      source: Switch
                    target:
                      device_id: 13f405bca5e64a54d1df697bf80e2163
                  - action: media_player.select_sound_mode
                    metadata: {}
                    data:
                      sound_mode: action_game
                    target:
                      device_id: 13f405bca5e64a54d1df697bf80e2163
        alias: Shortcut 4 (Switch)
      - conditions:
          - condition: template
            value_template: "{{trigger.event.data.button == 'shortcut_5'}}"
        sequence:
          - parallel:
              - alias: LG TV Sequence
                sequence:
                  - action: media_player.turn_on
                    metadata: {}
                    data: {}
                    target:
                      device_id:
                        - 6461dcd2ff85cf0f93ae192920898f19
                  - repeat:
                      until:
                        - condition: device
                          device_id: 6461dcd2ff85cf0f93ae192920898f19
                          domain: media_player
                          entity_id: 6ef4a66615cc7074b3c30608919091e7
                          type: is_on
                      sequence:
                        - delay:
                            hours: 0
                            minutes: 0
                            seconds: 1
                            milliseconds: 0
                  - action: media_player.select_source
                    metadata: {}
                    data:
                      source: HDMI2
                    target:
                      device_id: 6461dcd2ff85cf0f93ae192920898f19
              - alias: Apple TV Sequence
                sequence:
                  - action: remote.turn_on
                    metadata: {}
                    data: {}
                    target:
                      device_id: 466b9f450c887ef74d15d09ed3ffe1b3
                  - delay:
                      hours: 0
                      minutes: 0
                      seconds: 0
                      milliseconds: 500
                  - action: media_player.turn_on
                    metadata: {}
                    data: {}
                    target:
                      device_id:
                        - 466b9f450c887ef74d15d09ed3ffe1b3
                  - action: remote.send_command
                    metadata: {}
                    data:
                      num_repeats: 1
                      delay_secs: 0.4
                      hold_secs: 0
                      command: home
                    target:
                      device_id: 466b9f450c887ef74d15d09ed3ffe1b3
                enabled: true
              - alias: Amp  Sequence
                sequence:
                  - action: media_player.turn_on
                    metadata: {}
                    data: {}
                    target:
                      device_id:
                        - 13f405bca5e64a54d1df697bf80e2163
                  - action: media_player.select_source
                    metadata: {}
                    data:
                      source: Apple TV
                    target:
                      device_id: 13f405bca5e64a54d1df697bf80e2163
                  - action: media_player.select_sound_mode
                    metadata: {}
                    data:
                      sound_mode: straight
                    target:
                      device_id: 13f405bca5e64a54d1df697bf80e2163
              - type: turn_off
                device_id: 818e148e4d0215c94aed14e15dbd78ee
                entity_id: 71922eaa9404c666e020deaf3370ec32
                domain: switch
        alias: Shortcut 5 (Apple TV - Movie)
      - conditions:
          - condition: template
            value_template: "{{trigger.event.data.button == 'shortcut_6'}}"
        sequence:
          - parallel:
              - alias: LG TV Sequence
                sequence:
                  - action: media_player.turn_on
                    metadata: {}
                    data: {}
                    target:
                      device_id:
                        - 6461dcd2ff85cf0f93ae192920898f19
                  - repeat:
                      until:
                        - condition: device
                          device_id: 6461dcd2ff85cf0f93ae192920898f19
                          domain: media_player
                          entity_id: 6ef4a66615cc7074b3c30608919091e7
                          type: is_on
                      sequence:
                        - delay:
                            hours: 0
                            minutes: 0
                            seconds: 1
                            milliseconds: 0
                  - action: media_player.select_source
                    metadata: {}
                    data:
                      source: Live TV
                    target:
                      device_id: 6461dcd2ff85cf0f93ae192920898f19
              - alias: Apple TV Sequence
                sequence:
                  - action: media_player.turn_off
                    metadata: {}
                    data: {}
                    target:
                      device_id: 466b9f450c887ef74d15d09ed3ffe1b3
                enabled: true
              - alias: Amp  Sequence
                sequence:
                  - action: media_player.turn_on
                    metadata: {}
                    data: {}
                    target:
                      device_id:
                        - 13f405bca5e64a54d1df697bf80e2163
                  - action: media_player.select_source
                    metadata: {}
                    data:
                      source: TV
                    target:
                      device_id: 13f405bca5e64a54d1df697bf80e2163
                  - action: media_player.select_sound_mode
                    metadata: {}
                    data:
                      sound_mode: surr_decoder
                    target:
                      device_id: 13f405bca5e64a54d1df697bf80e2163
        alias: Shortcut 6 (FTA TV)
      - conditions:
          - condition: template
            value_template: >-
              {{trigger.event.data.button == 'power' and trigger.event.data.type
              == 'short'}}
        sequence:
          - condition: device
            device_id: 6461dcd2ff85cf0f93ae192920898f19
            domain: media_player
            entity_id: 6ef4a66615cc7074b3c30608919091e7
            type: is_off
          - condition: device
            device_id: 13f405bca5e64a54d1df697bf80e2163
            domain: media_player
            entity_id: a774d97d3c89a02952033e53a866df0e
            type: is_off
          - parallel:
              - alias: LG TV Sequence
                sequence:
                  - action: media_player.turn_on
                    metadata: {}
                    data: {}
                    target:
                      device_id:
                        - 6461dcd2ff85cf0f93ae192920898f19
                  - repeat:
                      until:
                        - condition: device
                          device_id: 6461dcd2ff85cf0f93ae192920898f19
                          domain: media_player
                          entity_id: 6ef4a66615cc7074b3c30608919091e7
                          type: is_on
                      sequence:
                        - delay:
                            hours: 0
                            minutes: 0
                            seconds: 1
                            milliseconds: 0
                  - action: media_player.select_source
                    metadata: {}
                    data:
                      source: HDMI2
                    target:
                      device_id: 6461dcd2ff85cf0f93ae192920898f19
              - alias: Apple TV Sequence
                sequence:
                  - action: remote.turn_on
                    metadata: {}
                    data: {}
                    target:
                      device_id: 466b9f450c887ef74d15d09ed3ffe1b3
                  - delay:
                      hours: 0
                      minutes: 0
                      seconds: 0
                      milliseconds: 500
                  - action: media_player.turn_on
                    metadata: {}
                    data: {}
                    target:
                      device_id:
                        - 466b9f450c887ef74d15d09ed3ffe1b3
                  - action: remote.send_command
                    metadata: {}
                    data:
                      num_repeats: 1
                      delay_secs: 0.4
                      hold_secs: 0
                      command: home
                    target:
                      device_id: 466b9f450c887ef74d15d09ed3ffe1b3
                enabled: true
              - alias: Amp  Sequence
                sequence:
                  - action: media_player.turn_on
                    metadata: {}
                    data: {}
                    target:
                      device_id:
                        - 13f405bca5e64a54d1df697bf80e2163
                  - action: media_player.select_source
                    metadata: {}
                    data:
                      source: Apple TV
                    target:
                      device_id: 13f405bca5e64a54d1df697bf80e2163
                  - action: media_player.select_sound_mode
                    metadata: {}
                    data:
                      sound_mode: surr_decoder
                    target:
                      device_id: 13f405bca5e64a54d1df697bf80e2163
        alias: Power - Short (Apple TV)
      - conditions:
          - condition: template
            value_template: >-
              {{trigger.event.data.button == 'power' and trigger.event.data.type
              == 'long'}}
        sequence:
          - repeat:
              sequence:
                - data: {}
                  target:
                    device_id:
                      - 6461dcd2ff85cf0f93ae192920898f19
                      - 13f405bca5e64a54d1df697bf80e2163
                      - 466b9f450c887ef74d15d09ed3ffe1b3
                  action: media_player.turn_off
                - delay:
                    hours: 0
                    minutes: 0
                    seconds: 3
                    milliseconds: 0
              count: 2
          - action: remote.turn_off
            metadata: {}
            data: {}
            target:
              device_id: 466b9f450c887ef74d15d09ed3ffe1b3
            enabled: false
        alias: Power - Long (everything off)
      - conditions:
          - condition: template
            value_template: "{{trigger.event.data.button == 'volume_up'}}"
        sequence:
          - action: media_player.volume_up
            metadata: {}
            data: {}
            target:
              device_id: 13f405bca5e64a54d1df697bf80e2163
        alias: Volume up
      - conditions:
          - condition: template
            value_template: "{{trigger.event.data.button == 'volume_down'}}"
        sequence:
          - action: media_player.volume_down
            metadata: {}
            data: {}
            target:
              device_id: 13f405bca5e64a54d1df697bf80e2163
        alias: Volume down
      - conditions:
          - condition: template
            value_template: "{{trigger.event.data.button == 'left'}}"
        sequence:
          - choose:
              - conditions:
                  - condition: state
                    entity_id: media_player.lounge_av_reciever
                    attribute: source
                    state: TV
                sequence:
                  - action: webostv.button
                    metadata: {}
                    data:
                      entity_id: media_player.lg_webos_smart_tv
                      button: LEFT
            default:
              - action: remote.send_command
                metadata: {}
                data:
                  num_repeats: 1
                  delay_secs: 0.4
                  hold_secs: 0
                  command: left
                target:
                  device_id: 466b9f450c887ef74d15d09ed3ffe1b3
        alias: Left
      - conditions:
          - condition: template
            value_template: "{{trigger.event.data.button == 'right'}}"
        sequence:
          - choose:
              - conditions:
                  - condition: state
                    entity_id: media_player.lounge_av_reciever
                    attribute: source
                    state: TV
                sequence:
                  - action: webostv.button
                    metadata: {}
                    data:
                      entity_id: media_player.lg_webos_smart_tv
                      button: RIGHT
            default:
              - action: remote.send_command
                metadata: {}
                data:
                  num_repeats: 1
                  delay_secs: 0.4
                  hold_secs: 0
                  command: right
                target:
                  device_id: 466b9f450c887ef74d15d09ed3ffe1b3
        alias: Right
      - conditions:
          - condition: template
            value_template: "{{trigger.event.data.button == 'up'}}"
        sequence:
          - choose:
              - conditions:
                  - condition: state
                    entity_id: media_player.lounge_av_reciever
                    attribute: source
                    state: TV
                sequence:
                  - action: webostv.button
                    metadata: {}
                    data:
                      entity_id: media_player.lg_webos_smart_tv
                      button: UP
            default:
              - action: remote.send_command
                metadata: {}
                data:
                  num_repeats: 1
                  delay_secs: 0.4
                  hold_secs: 0
                  command: up
                target:
                  device_id: 466b9f450c887ef74d15d09ed3ffe1b3
        alias: Up
      - conditions:
          - condition: template
            value_template: "{{trigger.event.data.button == 'down'}}"
        sequence:
          - choose:
              - conditions:
                  - condition: state
                    entity_id: media_player.lounge_av_reciever
                    attribute: source
                    state: TV
                sequence:
                  - action: webostv.button
                    metadata: {}
                    data:
                      entity_id: media_player.lg_webos_smart_tv
                      button: DOWN
            default:
              - action: remote.send_command
                metadata: {}
                data:
                  num_repeats: 1
                  delay_secs: 0.4
                  hold_secs: 0
                  command: down
                target:
                  device_id: 466b9f450c887ef74d15d09ed3ffe1b3
        alias: Down
      - conditions:
          - condition: template
            value_template: "{{trigger.event.data.button == 'select_button'}}"
        sequence:
          - choose:
              - conditions:
                  - condition: state
                    entity_id: media_player.lounge_av_reciever
                    attribute: source
                    state: TV
                sequence:
                  - action: webostv.button
                    metadata: {}
                    data:
                      entity_id: media_player.lg_webos_smart_tv
                      button: ENTER
            default:
              - action: remote.send_command
                metadata: {}
                data:
                  num_repeats: 1
                  delay_secs: 0.4
                  hold_secs: 0
                  command: select
                target:
                  device_id: 466b9f450c887ef74d15d09ed3ffe1b3
        alias: Select
      - conditions:
          - condition: template
            value_template: "{{trigger.event.data.button == 'back'}}"
        sequence:
          - action: remote.send_command
            metadata: {}
            data:
              num_repeats: 1
              delay_secs: 0.4
              hold_secs: 0
              command: menu
            target:
              device_id: 466b9f450c887ef74d15d09ed3ffe1b3
        alias: Back
      - conditions:
          - condition: template
            value_template: "{{trigger.event.data.button == 'play_pause'}}"
        sequence:
          - if:
              - condition: device
                device_id: 466b9f450c887ef74d15d09ed3ffe1b3
                domain: media_player
                entity_id: 6abf2f59d8a15bda81a1cfc9ac107089
                type: is_playing
            then:
              - action: remote.send_command
                metadata: {}
                data:
                  num_repeats: 1
                  delay_secs: 0.4
                  hold_secs: 0
                  command: pause
                target:
                  device_id: 466b9f450c887ef74d15d09ed3ffe1b3
            else:
              - action: remote.send_command
                metadata: {}
                data:
                  num_repeats: 1
                  delay_secs: 0.4
                  hold_secs: 0
                  command: play
                target:
                  device_id: 466b9f450c887ef74d15d09ed3ffe1b3
        alias: Play Pause
      - conditions:
          - condition: template
            value_template: "{{trigger.event.data.button == 'home'}}"
        sequence:
          - choose:
              - conditions:
                  - condition: state
                    entity_id: media_player.lounge_av_reciever
                    attribute: source
                    state: TV
                sequence:
                  - action: webostv.button
                    metadata: {}
                    data:
                      entity_id: media_player.lg_webos_smart_tv
                      button: FREEVIEW
                  - action: webostv.command
                    metadata: {}
                    data:
                      entity_id: media_player.lg_webos_smart_tv
                      command: tv/getChannelList
            default:
              - action: remote.send_command
                metadata: {}
                data:
                  num_repeats: 1
                  delay_secs: 0.4
                  hold_secs: 0
                  command: home
                target:
                  device_id: 466b9f450c887ef74d15d09ed3ffe1b3
        alias: home
      - conditions:
          - condition: template
            value_template: "{{trigger.event.data.button == 'mute'}}"
        sequence:
          - if:
              - condition: state
                entity_id: media_player.lounge_av_reciever
                attribute: is_volume_muted
                state: true
            then:
              - action: media_player.volume_mute
                metadata: {}
                data:
                  is_volume_muted: false
                target:
                  device_id: 13f405bca5e64a54d1df697bf80e2163
            else:
              - action: media_player.volume_mute
                metadata: {}
                data:
                  is_volume_muted: true
                target:
                  device_id: 13f405bca5e64a54d1df697bf80e2163
        alias: Mute
      - conditions:
          - condition: template
            value_template: "{{trigger.event.data.button == 'channel_up'}}"
        sequence:
          - choose:
              - conditions:
                  - condition: state
                    entity_id: media_player.lounge_av_reciever
                    attribute: source
                    state: TV
                sequence:
                  - action: webostv.button
                    metadata: {}
                    data:
                      entity_id: media_player.lg_webos_smart_tv
                      button: CHANNELUP
            default:
              - action: remote.send_command
                metadata: {}
                data:
                  num_repeats: 1
                  delay_secs: 0.4
                  hold_secs: 0
                  command: next
                target:
                  device_id: 466b9f450c887ef74d15d09ed3ffe1b3
        alias: Channel Up
      - conditions:
          - condition: template
            value_template: "{{trigger.event.data.button == 'channel_down'}}"
        sequence:
          - choose:
              - conditions:
                  - condition: state
                    entity_id: media_player.lounge_av_reciever
                    attribute: source
                    state: TV
                sequence:
                  - action: webostv.button
                    metadata: {}
                    data:
                      entity_id: media_player.lg_webos_smart_tv
                      button: CHANNELDOWN
            default:
              - action: remote.send_command
                metadata: {}
                data:
                  num_repeats: 1
                  delay_secs: 0.4
                  hold_secs: 0
                  command: previous
                target:
                  device_id: 466b9f450c887ef74d15d09ed3ffe1b3
        alias: Channel Down
      - conditions:
          - condition: template
            value_template: >-
              {{trigger.event.data.button == 'settings' and
              trigger.event.data.type == 'single'}}
        sequence:
          - device_id: 13f405bca5e64a54d1df697bf80e2163
            domain: select
            entity_id: 14110fe8abd87ffc001fb8b2ff99ec7c
            type: select_option
            option: toggle
        alias: Settings (Single)
      - conditions:
          - condition: template
            value_template: >-
              {{trigger.event.data.button == 'settings' and
              trigger.event.data.type == 'long'}}
        sequence:
          - device_id: 13f405bca5e64a54d1df697bf80e2163
            domain: select
            entity_id: 14110fe8abd87ffc001fb8b2ff99ec7c
            type: select_option
            option: toggle
        alias: Settings (Long)
mode: restart
